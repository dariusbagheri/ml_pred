{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="content">
        <div class="row">
             
       
        <div class="col-12">
            <div class="card card-chart">
                <div class="card-header">
                    <div class="row">
                        <div class="col-sm-6 text-left">
                            <h2 class="card-title">Forcasting Financial Data</h2>
                        </div>
                        <div class="col-sm-6">
                            <div class="btn-group btn-group-toggle float-right" data-toggle="buttons">
                                <label class="btn btn-sm btn-primary btn-simple active" id="0">
                                    <input type="radio" name="options" checked>
                                    <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Accounts</span>
                                    <span class="d-block d-sm-none">
                                        <i class="tim-icons icon-single-02"></i>
                                    </span>
                                </label>
                                <label class="btn btn-sm btn-primary btn-simple" id="1">
                                    <input type="radio" class="d-none d-sm-none" name="options">
                                    <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Purchases</span>
                                    <span class="d-block d-sm-none">
                                        <i class="tim-icons icon-gift-2"></i>
                                    </span>
                                </label>
                                <label class="btn btn-sm btn-primary btn-simple" id="2">
                                    <input type="radio" class="d-none" name="options">
                                    <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Sessions</span>
                                    <span class="d-block d-sm-none">
                                        <i class="tim-icons icon-tap-02"></i>
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                {% include 'chat/room.html' %}
                <!--
                <div class="container">
                    <div class="chat-logs" id="message-container">
                        
                    </div>
                    <div class="input-container">
                        <input type="text" id="message-input" placeholder="Type your message...">
                        <button id="send-button">Send</button>
                    </div>
                </div>
            -->
            </div>
        </div>
    
    
            
   
            
                </div>
            </div>
        </div>
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script>
    $(document).ready(function () {
        // Javascript method's body can be found in assets/js/demos.js
        demo.initDashboardPageCharts();

    });


    // JavaScript code for handling chat functionality
document.addEventListener("DOMContentLoaded",    function() {
    var messageInput = document.getElementById("message-input");
    var sendButton = document.getElementById("send-button");
    var messageContainer = document.getElementById("message-container");

    // Function to handle sending a message
    function sendMessage() {
        var message = messageInput.value;
        console.log(message)
        if (message.trim() !== "") {
            // You can use AJAX or fetch to send the message to the backend
            // Example using fetch:
            fetch("/send-message", {
                method: "POST",
                body: JSON.stringify({ message: message }),
                headers: {
                    "Content-Type": "application/json",
                },
            })
                .then(function(response) {
                    if (response.ok) {
                        messageInput.value = ""; // Clear the input field
                    }
                })
                .catch(function(error) {
                    console.error("Error sending message:", error);
                })
                
                
                ;
        }
    }

    // Event listener for the send button
    sendButton.addEventListener("click", addMessage);

    // Event listener for the Enter key
    messageInput.addEventListener("keydown", function(event) {
        if (event.keyCode === 13) {
            sendMessage();
        }
    });

    // Function to add a new message to the chat container
    function addMessage(message) {
        var messageElement = document.createElement("div");
        messageElement.textContent =message ;
        messageContainer.appendChild(messageElement);
    }

    // Function to receive messages
    function receiveMessage(message) {
        addMessage(message);
    }

    // Example receiving a message (you may need to modify this based on your backend implementation)
    setTimeout(function() {
        receiveMessage("Hello, how can I help you?");
    }, 1000);
});

</script>

{% endblock javascripts %}
